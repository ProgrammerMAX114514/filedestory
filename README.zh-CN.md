# FileDestory 文件损坏工具

**一个用于测试、模拟、安全研究目的的命令行工具，用于对文件内容进行选择性损坏。该工具会保护文件头和尾部（1024字节）的内容，并允许自定义损坏间隔和字节数。**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[📘 English (README.md)](README.md)

---

## 📌 介绍

**FileDestory** 是一个基于 Python 的命令行工具，用于**对文件内容进行选择性损坏**，主要用于：

- 测试、模拟、安全研究
- 数据销毁模拟
- 教育或开发实验

它**避免修改文件头和尾部1024字节的内容**（保护区域，并允许您定义：

- 损坏间隔（以KB为单位）
- 每次损坏的字节数
- 在损坏前生成备份（可选）
- 带有实时反馈的进度条（使用 rich 库，可选）

---

## ✨ 特性

- 🎯 **目标损坏**：在自定义的KB间隔处损坏字节，并保护文件头和尾部（1024字节）的内容。
- ⚙️ **可定制**：设置损坏间隔（例如1KB，2KB）和每次损坏的字节数。
- 🛡️ **默认安全**：保护文件头和尾部（1024字节）的内容免受任何修改。
- 💾 **可选备份**：在损坏前自动创建备份文件`.bak`（可禁用）。
- 📊 **进度条**：带有实时反馈的进度条，显示速度（KB/s、MB/s等）。该功能需要[`rich`](https://github.com/Textualize/rich)库（可选但推荐）
- 🖥️ **双模式支持**：交互式CLI（用户提示）和命令行参数（对自动化或在其他脚本中调用友好，例如`python filedestory.py -f file.bin -s 1KB -d 4`）

---

## 🛠️ 安装和使用

### 1. 先决条件

- Python **3.8或更高版本**
- (可选) [`rich`](https://pypi.org/project/rich/) 库用于彩色进度条：

```bash
pip install rich tqdm
```

### 2. 克隆或下载项目

```bash
git clone https://github.com/ProgrammerMAX114514/filedestory.git
cd filedestory
```

### 3. 运行工具

#### 1. 交互模式（推荐新手使用）

运行脚本并跟随屏幕提示：

```bash
python filedestory.py
```

你将被要求提供：

- 目标文件路径
- 损坏间隔（步长，例如`1KB`）
- 每次损坏的字节数
- 是否创建备份
- 最终确认

#### 2. 命令行参数（脚本化 / 自动化）

```bash
python filedestory.py -f "path/to/your/file.bin" -s 1KB -d 4
```

##### 支持的参数

| 参数         | 描述                                      | 示例              |
|-------------|-------------------------------------------|------------------|
| `-f`、`--file`   | **必填。** 目标文件路径。           | `-f test.bin`    |
| `-s`、`--step`   | 损坏间隔（KB为单位）（默认：1KB） | `-s 2KB` 或 `-s 1` |
| `-d`、`--destory`| 每次损坏的字节数                       | `-d 5`           |
| `--no-backup`    | 禁用自动备份（默认：启用）           | `--no-backup`    |

> ℹ️ `step`参数接受整数（例如`1` = 1KB）或带有单位的字符串（例如`1KB`）。

---

## ⚠️ 注意事项和说明

> ⚠️ **本工具仅限合法、合乎道德且获得授权的使用**——例如安全研究、渗透测试（有授权）,数据销毁模拟，或教育演示。
> 作者**不对任何误用、数据丢失或法律后果负责**。
> 在任何文件或系统上运行本工具之前，请务必**获得授权**。

### 其他注意事项

- 文件头和尾部的**前1024字节**将**不会被修改**。
- 如果启用了备份（`-no-backup`未使用），将创建`.bak`备份文件
- 如果`rich`库已安装，将显示彩色、动态的进度条，显示速度（自动缩放：KB/s、MB/s...）。
- 如果`rich`未安装，将使用简化的文本输出。

---

## 🤝 贡献和许可

- ✅ **欢迎 fork、报告问题、提交 PR 来改进！**
- 📜 **本工具使用 MIT 许可证** - 详情请参阅 [LICENSE](LICENSE)。

> Copyright © 2025 ProgrammerMAX114514。
